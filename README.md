
[[English]](README_EN.md)

本站由 Ethan Huang 维护\
视频号：跟着Ethan学敏捷\
邮箱：[me@ethanhuang.com](mailto:me@ethanhuang.com)\
主站: [oncadence.com](https://oncadence.com/cn)

# 驾驭AI必备 - 有效的提示词的SPARK范式
|元素|功能|描述|最佳实践 |
| ------------| ------------| ---------------|-------------------|
|**S - Situation 情境（Context）**| 提供背景和情境| 建立问题空间和情境| - 无指令：不要写任务指令，只描述背景<br> - 使用{}：使用{粘贴完整的背景和概念}作为占位符，让用户动态填写具体内容，从而提高模板的可重用性|
|**P - Purpose 目的（Objective）** |明确任务输出目标 | 聚焦输出内容| - 指令清晰，一个指令一句话<br> - 动词：使用动词导向的指令<br> - 关键要求：添加关键要求描述（例如NVEST原则）<br>|
|**A - Action Role 行动角色（Role Assignment）** | 设置专业角色 |模拟接近实际业务需求的思维模式|- 专业角色：指定具有任务相关技能的专业角色<br> - 领域：强调角色的专业领|
| **R - Rule 规则（Task Rules）**              | 建立行为和风格标准                     | 确保输出内容的一致性、专业性和实用性                                    | - 示例：给出示例帮助AI理解<br> - 特定行为：明确要求“避免模糊表述，例如‘请尽可能清」描述’ 改为‘必须提供至少三个场景’”<br> - 质量要求描述：如果有质量要求，可以添加具体描述。 |
| **K - Knowledge Format 知识格式（Output Format）**       | 定义输出格式                           | 帮助模型保持输出一致性                                                | - 模板：指定句子模式模板 |     

## 示例1: 基于很粗的产品需求文档构建用户故事
### 提示词：
```
# S - Situation 情境（Context）
## 我们正在开发一款帮助用户一站式规划旅行的应用：
- 轻松规划所有旅行活动。
- 包括航班、火车、交通工具、餐饮、娱乐活动等。
- 提供智能、时尚和可定制的旅行体验。
## 我们获得了一份高层的产品需求文档，但该文档没有经过专业编写。

---

# P - Purpose 目的（Objective）
## 请阅读我稍后提供的PRD文档
## 将PRD文档转化为符合INVEST原则的用户故事列表。

---

# A - Action Role 行动角色（Role Assignment）
## 你是一个经验丰富的Scrum产品负责人
## 你擅长设计思维，具备良好的用户同理心
## 你是用户体验设计的专家
## 你擅长BDD和ATDD，能够将模糊概念转化为可执行的用户故事
## 确保开发团队有明确的目标、价值和验收标准。

---

# R - Rule 规则（Task Rules）
请遵循以下行为和风格标准：
## 用户故事质量
- 使用标准格式：“作为[角色]，我想要[目标]，以便[收益]”
- 每个故事必须清晰表达其价值（V）和可测试性（T）
- 将模糊、情感化的语言（如“有趣”，“感觉良好”）转化为面向行为或功能的语言
- 仅输出用户故事内容，不生成不必要的解释
- 用户故事粒度必须具体且可执行
- 覆盖背景概念中提到的所有关键功能或场景

## INVEST原则清单（附录）
检查每个故事的资格标准
| 原则代码   | 描述                                           |
| ---------- | ---------------------------------------------- |
| **I – 独立** | 故事应能独立完成，而不依赖其他故事                |
| **N – 可协商** | 可协商，不应为固定的规格描述                       |
| **V – 有价值** | 必须对用户或业务具有明确价值                       |
| **E – 可估算** | 可估算工作量或复杂度                             |
| **S – 小**   | 足够小，可以在一个Sprint内完成                    |
| **T – 可测试** | 具有可验证的验收标准或条件                        |

---

# K - Knowledge Format 知识格式（Output Format）
## 请按照编号列表格式整理结果，每个用户故事使用标准句型：
用户故事1
作为...，
我想...，
以便...

用户故事2
作为...，
我想...，
以便...
## 以纯文本格式输出所有用户故事

```
### PRD文件示例：
[PRD_Sample_CHN.docx](https://github.com/user-attachments/files/22057374/PRD_Sample_CHN.docx)


### ChatGPT可能的输出：
```

用户故事 1
作为一名旅行者，
我想要一款智能的旅行应用，能够帮助我一站式规划食宿、观光和交通，
以便我可以享受一个无忧的旅行体验，尤其是在新加坡和上海之间。

**用户故事 2**
作为一名旅行者，
我想要应用根据我的偏好生成个性化的旅行行程，
以便我无需花费时间规划每个旅行细节。

**用户故事 3**
作为一名旅行者，
我想要应用内有一个测验或性格测试来识别我的旅行风格，
以便应用能推荐适合我的活动和目的地。

**用户故事 4**
作为一名旅行者，
我想要应用推荐符合我饮食需求（如素食、清真、不辣等）的餐饮选项，
以便我在旅行中能轻松找到合适的餐厅。

**用户故事 5**
作为一名旅行者，
我想要应用推荐干净、适合拍照且价格适中的餐厅，
以便我可以享受既舒适又值得拍照的用餐体验。

**用户故事 6**
作为一名旅行者，
我想要应用推荐靠近主要景点的酒店，
以便我可以减少旅行时间，享受更加便捷的住宿体验。

**用户故事 7**
作为一名旅行者，
我想要应用提供地图和导航，显示距离和时间信息，
以便我可以轻松到达目的地，不会迷路。

**用户故事 8**
作为一名旅行者，
我想要应用具有直观界面并减少按钮数量，
以便我能快速访问所需功能，避免被过多选项淹没。

**用户故事 9**
作为一名旅行者，
我想要应用显示天气信息，
以便我可以根据天气情况调整我的旅行计划，避免安排户外活动时遇到坏天气。

**用户故事 10**
作为一名旅行者，
我想要应用提供提醒功能，例如提醒我做预定或早起参加活动，
以便我不会错过重要的旅行活动。

**用户故事 11**
作为一名旅行者，
我想要在应用内自定义推荐的行程或活动，
以便我可以根据自己的喜好调整旅行计划，同时仍然能获得有用的建议。

**用户故事 12**
作为一名旅行者，
我希望应用看起来现代、充满趣味，并且像一位旅行伴侣，
以便我能够积极、兴奋地使用它规划我的旅行。

---
```

## 示例2: 为用户故事编写Acceptance Criteria（验收条件）
### 提示词：
```
# S - Situation 情境（Context）
## 我们需要为提供的用户故事开发验收标准
## 验收标准需要质量好且足够简洁

---

# P - Purpose 目的（Objective）
## 请阅读我稍后提供的用户故事
## 请为每个用户故事编写详细的**验收标准**。

---

# A - Action Role 行动角色（Role Assignment）
## 你是一个**经验丰富的产品负责人，熟悉业务需求和用户旅程**
## 你擅长用非技术性的语言清晰描述系统行为，确保团队对功能完成标准有一致的理解。
## 你具有强大的技术背景，尤其是在ATDD和Gherkin语言方面

---

# R - Rule 规则（Task Rules）
请遵循以下编写标准：
## 使用**Given-When-Then**（Gherkin）格式表达每个验收场景
## 语言应保持**业务术语，避免技术术语**
## 每个用户故事应列出至少**3个场景**，覆盖：
- 正常流程（Happy Path）
- 边界场景（例如空值、极限输入）
- 异常场景（例如权限不足、格式错误）
## 每个场景标题应以“Scenario:”开头，简要描述场景
## 如果故事涉及以下场景，请优先考虑：
- 权限控制（是否登录，是否具有操作权限）
- 跨设备或浏览器差异（移动端/桌面端，iOS/Android）

---

# K - Knowledge Format 知识格式（Output Format)
## 请使用以下格式编写，每个场景作为一个块：
gherkin

Scenario: 简要描述场景名称

Given 满足某些前提条件  
And 存在某些系统状态（如有）  
When 用户执行某个操作  
And（附加的操作或输入）  
Then 系统应作出相应的反应  
And（附加的验证点或状态变化）

## 为每个用户故事写至少三个场景。
## 请确保内容**具体、可验证，且接近用户语言**。
## 汇总所有用户故事和验收标准，使用纯文本格式，并将它们放入一个块中

```
### 把示例1产生的用户故事黏贴复制到ChatGPT对话框
### ChatGPT可能的输出：
```
# 用户故事 1
# 一站式规划食宿、观光和交通

Scenario: 成功规划新加坡到上海的行程  
Given 用户已登录应用  
And 用户选择了出发地“新加坡”和目的地“上海”  
When 用户点击“一站式规划”按钮  
Then 应用应显示包含航班、酒店、景点和交通的完整行程  
And 每个模块均可单独查看和编辑  

Scenario: 用户未选择目的地  
Given 用户已登录应用  
When 用户点击“一站式规划”按钮  
And 未输入目的地  
Then 应用应提示“请选择目的地”  
And 不生成行程  

Scenario: 用户未登录尝试规划  
Given 用户未登录应用  
When 用户尝试点击“一站式规划”按钮  
Then 应用应要求用户先登录  
And 显示“请登录后使用此功能”  

---

# 用户故事 2
# 个性化行程生成

Scenario: 根据偏好生成个性化行程  
Given 用户已登录应用  
And 用户设置了偏好（如美食、文化、购物）  
When 用户点击“生成行程”  
Then 应用应显示与用户偏好匹配的日程安排  

Scenario: 用户未设置偏好  
Given 用户已登录应用  
When 用户点击“生成行程”  
Then 应用应提示用户先设置偏好  
And 显示“未找到匹配偏好，请先完善资料”  

Scenario: 用户网络异常  
Given 用户已登录应用  
And 用户已设置偏好  
When 用户点击“生成行程”  
And 网络连接中断  
Then 应用应提示“网络不可用，请稍后再试”  

---

# 用户故事 3
# 旅行风格测试

Scenario: 成功完成旅行风格测试  
Given 用户已登录应用  
And 用户开始回答旅行风格问卷  
When 用户完成所有问题  
Then 应用应显示旅行风格结果  
And 推荐与风格匹配的活动  

Scenario: 用户未完成所有问题  
Given 用户正在进行问卷  
When 用户尝试提交  
Then 应用应提示“请完成所有问题后再提交”  

Scenario: 用户重复参加测试  
Given 用户已完成过旅行风格测试  
When 用户再次进入测试页面  
Then 应用应允许重新测试  
And 显示“您可以更新您的旅行风格结果”  

---

# 用户故事 4
# 饮食需求餐饮推荐

Scenario: 成功推荐符合饮食需求的餐厅  
Given 用户已登录应用  
And 用户设置饮食需求为“素食”  
When 用户点击“餐饮推荐”  
Then 应用应显示素食餐厅列表  

Scenario: 用户未设置饮食需求  
Given 用户已登录应用  
When 用户点击“餐饮推荐”  
Then 应用应显示所有类型餐厅  
And 提示“未设置饮食需求，已显示全部餐厅”  

Scenario: 用户选择的城市暂无符合餐厅  
Given 用户已登录应用  
And 用户设置饮食需求为“清真”  
When 用户点击“餐饮推荐”  
And 当前城市没有清真餐厅  
Then 应用应显示“未找到符合餐厅”  

---

# 用户故事 5
# 干净、适合拍照且价格适中的餐厅推荐

Scenario: 推荐符合条件的餐厅  
Given 用户已登录应用  
When 用户点击“适合拍照餐厅”  
Then 应用应显示干净、环境优美且价格合理的餐厅  

Scenario: 城市餐厅数量有限  
Given 用户已登录应用  
When 用户搜索“适合拍照餐厅”  
And 城市中符合条件的餐厅不足 3 家  
Then 应用应显示现有餐厅  
And 提示“符合条件的餐厅数量有限”  

Scenario: 用户未授权定位  
Given 用户未授权应用使用定位  
When 用户尝试获取餐厅推荐  
Then 应用应提示

```

